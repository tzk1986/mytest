{"name": "登录成功用例", "status": "broken", "statusDetails": {"message": "AttributeError: module 'allure' has no attribute 'environment'", "trace": "self = <testcase.test_login.TestLogin object at 0x7f9174ee8430>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"75e9c0d9c7a20a9170f24b2ad2c06e2f\")>\ncaseinfo = {'name': '用户名密码信息', 'password': 'admin', 'username': 'admin'}\n\n    @allure.story(\"登录模块\")\n    # 标注测试用例的重要级别\n    @allure.severity('blocker')\n    @allure.title(\"登录成功用例\")\n    # 标记测试步骤\n    @allure.step(\"开始登录\")\n    @allure.description(\"这是一个登录测试用例\")  # 标记代码，优先取这个\n    @pytest.mark.parametrize('caseinfo', YamlUtil().read_testcase_yaml('login.yml'))\n    def test_login_ok(self, driver, caseinfo):\n        \"\"\"登录页面\"\"\"\n        # 获取当前目录\n        print(os.getcwd())\n        print(os.path.abspath(os.path.dirname(__file__)))\n        # 以下都是获取上级目录\n        print(os.path.abspath(os.path.dirname(os.path.dirname(__file__))))  # 绝对路径\n        print(os.path.abspath(os.path.dirname(os.getcwd())))\n        print(os.path.abspath(os.path.join(os.getcwd(), \"..\")))\n        # 获取上上级目录\n        print(os.path.abspath(os.path.join(os.getcwd(), \"../..\")))\n    \n        print(caseinfo['username'])\n        print(caseinfo['password'])\n        name = caseinfo['username']\n        pd = caseinfo['password']\n        page = LoginPage(driver)\n        page.login(username=name, password=pd)\n    \n        # print(page.get_new_url())\n        # print(page.get_except_results())\n        #\n        assert page.get_except_results() == '注销'\n        logger.info(\"登录测试成功\")\n    \n        # 获取参数\n        paras = vars()\n        # 报告中的环境参数，可用于必要环境参数的说明，相同的参数以后者为准\n>       allure.environment(host=\"127.0.0.1\", test_vars=paras)\nE       AttributeError: module 'allure' has no attribute 'environment'\n\ntest_login.py:72: AttributeError"}, "description": "这是一个登录测试用例", "steps": [{"name": "开始登录", "status": "broken", "statusDetails": {"message": "AttributeError: module 'allure' has no attribute 'environment'\n", "trace": "  File \"/Users/tangzhongkai/opt/anaconda3/envs/mytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/testcase/test_login.py\", line 72, in test_login_ok\n    allure.environment(host=\"127.0.0.1\", test_vars=paras)\n"}, "steps": [{"name": "Step: 输入用户名", "status": "passed", "attachments": [{"source": "b01e66cc-786c-4d9c-bd21-9d10c6a771f9-attachment.attach"}], "start": 1652695019461, "stop": 1652695019741}, {"name": "Step: 输入密码", "status": "passed", "attachments": [{"source": "99902443-3b5b-4f12-9691-7219af2d5fe2-attachment.attach"}], "start": 1652695019741, "stop": 1652695019928}, {"name": "Step: 点击登录按钮", "status": "passed", "attachments": [{"source": "49b51c37-331f-4537-b34e-fce1a70b3632-attachment.attach"}], "start": 1652695019928, "stop": 1652695020538}], "attachments": [{"source": "be56a751-9e87-4d94-bee0-84141f55541c-attachment.attach"}, {"source": "2fa7ef70-13d6-4bda-8381-ad1c78b0f6cf-attachment.attach"}], "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"75e9c0d9c7a20a9170f24b2ad2c06e2f\")>"}, {"name": "caseinfo", "value": "{'name': '用户名密码信息', 'username': 'admin', 'password': 'admin'}"}], "start": 1652695019459, "stop": 1652695020975}], "attachments": [{"name": "log", "source": "067fa754-42ae-4cbe-98f5-797945504fd5-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "caseinfo", "value": "{'name': '用户名密码信息', 'username': 'admin', 'password': 'admin'}"}], "start": 1652695019458, "stop": 1652695020980, "uuid": "118c3737-f2dc-42a2-9922-0e18497c17bc", "historyId": "2c6f3816c2100e45f0a96515ebe41343", "testCaseId": "38b6ea6501b485e2b43b7264120e9e15", "fullName": "testcase.test_login.TestLogin#test_login_ok", "labels": [{"name": "severity", "value": "blocker"}, {"name": "story", "value": "登录模块"}, {"name": "feature", "value": "登录以及增删改查测试项目"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "tangzhongkaideMacBook-Pro.local"}, {"name": "thread", "value": "94147-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_login"}]}