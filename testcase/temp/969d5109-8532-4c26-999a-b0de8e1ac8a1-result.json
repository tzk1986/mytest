{"name": "增删改查测试项目", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'element' referenced before assignment", "trace": "self = <testcase.test_login.TestLogin object at 0x7fced2445f30>\nlogin_driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"663c6ad3bbbf47dd67cdf2ead30c882d\")>\ncaseinfo = {'name': '项目2', 'num': '2', 'projectname': '中文', 'version': '第二版'}\n\n    @allure.story(\"测试项目\")\n    @allure.severity('blocker')\n    @allure.title(\"增删改查测试项目\")\n    @allure.step(\"开始增删改查测试项目\")\n    @pytest.mark.parametrize('caseinfo', YamlUtil().read_testcase_yaml('project.yml'))\n    def test_Project_ok(self, login_driver, caseinfo):\n        \"\"\"\n        用例描述：测试项目的增删改查\n        \"\"\"\n        print(caseinfo['projectname'])\n        print(caseinfo['num'])\n        print(caseinfo['version'])\n        name = caseinfo['projectname']\n        num = caseinfo['num']\n        version = caseinfo['version']\n        login_driver.get(\"http://127.0.0.1:8000/admin/project/project/add/\")\n        page = ProjectPage(login_driver)\n        with allure.step('Step: 添加测试项目'):\n            page.AddProject(name=name, num=num, version=version)\n        logger.info(\"添加测试项目成功\")\n        with allure.step('Step: 搜索测试项目'):\n            page.SearchProject(name=name)\n        logger.info(\"搜索测试项目成功\")\n        with allure.step('Step: 修改测试项目'):\n>           page.ModifyProject(version=version)\n\ntest_login.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../pageobject/add_project.py:78: in ModifyProject\n    self.del_text(loc=ProjectPage.mod_vers_loc)\n../base/BasePage.py:98: in del_text\n    self.loc_element(loc).send_keys(Keys.COMMAND, \"a\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pageobject.add_project.ProjectPage object at 0x7fced24aa200>\nloc = ('xpath', '//*[@id=\"id_form-0-project_version\"]')\n\n    def loc_element(self, loc):\n        allure.attach(  # 交互前进行截图，确认加载效果\n            self._driver.get_screenshot_as_png(),\n        )\n        try:\n            element = self._driver.find_element(*loc)\n            print(loc)\n            loggers.info(\"元素定位成功，元素：\" + loc[1])\n        except Exception as error:\n            loggers.error(\"元素定位失败，元素：\" + loc[1] + str(error))\n>       return element\nE       UnboundLocalError: local variable 'element' referenced before assignment\n\n../base/BasePage.py:48: UnboundLocalError"}, "description": "\n        用例描述：测试项目的增删改查\n        ", "steps": [{"name": "开始增删改查测试项目", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'element' referenced before assignment\n", "trace": "  File \"/Users/tangzhongkai/opt/anaconda3/envs/mytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/testcase/test_login.py\", line 93, in test_Project_ok\n    page.ModifyProject(version=version)\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/pageobject/add_project.py\", line 78, in ModifyProject\n    self.del_text(loc=ProjectPage.mod_vers_loc)\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/base/BasePage.py\", line 98, in del_text\n    self.loc_element(loc).send_keys(Keys.COMMAND, \"a\")\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/base/BasePage.py\", line 48, in loc_element\n    return element\n"}, "steps": [{"name": "Step: 添加测试项目", "status": "passed", "attachments": [{"source": "43cfaf22-04c5-4886-98c6-818a79fa5cfa-attachment.attach"}, {"source": "aca15ffb-14f2-44ce-a96f-04298560e2dd-attachment.attach"}, {"source": "c853a49e-599c-44ee-b49e-eda66e8203f4-attachment.attach"}, {"source": "64a981e9-cf35-418b-91c3-1bddb491c67b-attachment.attach"}], "start": 1652689785715, "stop": 1652689792228}, {"name": "Step: 搜索测试项目", "status": "passed", "attachments": [{"source": "3cf0df41-63d4-4cf4-85c3-5891043b32ad-attachment.attach"}, {"source": "9ba7fbaf-52f9-4c21-a494-52c407378710-attachment.attach"}, {"source": "3d70d8df-209e-4c3d-953d-117ffc28a79f-attachment.attach"}], "start": 1652689792229, "stop": 1652689792936}, {"name": "Step: 修改测试项目", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'element' referenced before assignment\n", "trace": "  File \"/Users/tangzhongkai/PycharmProjects/mytest/testcase/test_login.py\", line 93, in test_Project_ok\n    page.ModifyProject(version=version)\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/pageobject/add_project.py\", line 78, in ModifyProject\n    self.del_text(loc=ProjectPage.mod_vers_loc)\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/base/BasePage.py\", line 98, in del_text\n    self.loc_element(loc).send_keys(Keys.COMMAND, \"a\")\n  File \"/Users/tangzhongkai/PycharmProjects/mytest/base/BasePage.py\", line 48, in loc_element\n    return element\n"}, "attachments": [{"source": "6cb7c576-ef7c-4d7c-9f48-caf8878ebe61-attachment.attach"}], "start": 1652689792936, "stop": 1652689803174}], "parameters": [{"name": "login_driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"663c6ad3bbbf47dd67cdf2ead30c882d\")>"}, {"name": "caseinfo", "value": "{'name': '项目2', 'projectname': '中文', 'num': '2', 'version': '第二版'}"}], "start": 1652689785566, "stop": 1652689803179}], "attachments": [{"name": "log", "source": "2b7fa717-0be1-4b41-991c-d37db9b5b778-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "caseinfo", "value": "{'name': '项目2', 'projectname': '中文', 'num': '2', 'version': '第二版'}"}], "start": 1652689785565, "stop": 1652689803180, "uuid": "55b69096-9c19-4c88-9d50-245e4ab9ae82", "historyId": "abb7fbd933672d4fa7c25c87b746ff75", "testCaseId": "ddfd887c547d1ef214ccc4b7d20d3df0", "fullName": "testcase.test_login.TestLogin#test_Project_ok", "labels": [{"name": "severity", "value": "blocker"}, {"name": "feature", "value": "登录以及增删改查测试项目"}, {"name": "story", "value": "测试项目"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "tangzhongkaideMacBook-Pro.local"}, {"name": "thread", "value": "54737-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_login"}]}